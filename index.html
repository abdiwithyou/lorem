<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Geolocation Example</title>
  </head>
  <body>
    <div class="p" id="hasil">Memeriksa geolokasi...</div>
    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque quasi porro
      nemo inventore? Natus in ea modi pariatur alias cumque placeat animi sunt
      voluptatem saepe commodi neque, possimus quia deleniti aliquam quasi nam
      deserunt itaque, aut veniam! Quam laboriosam, excepturi perferendis itaque
      tenetur ut facilis eligendi, dignissimos hic, incidunt sapiente ad? Cumque
      non sint nam hic rerum quibusdam dignissimos consectetur provident amet odit
      assumenda voluptates officiis saepe eum, nemo quidem! Adipisci hic
      voluptatibus molestiae a. Mollitia itaque iure minus accusamus ipsum minima,
      praesentium illo voluptates consectetur nobis aliquid, ipsa quia deleniti
      deserunt qui aspernatur dolorem culpa, facere eaque debitis! Magnam!
    </p>
    <script>
      // Memeriksa apakah geolokasi didukung
      if (!navigator.geolocation) {
        document.querySelector("#hasil").innerHTML =
          "Geolokasi tidak didukung oleh browser ini.";
      } else {
        // Mendapatkan lokasi pengguna
        navigator.geolocation.getCurrentPosition(
          sukses,
          salah,
          { enableHighAccuracy: true }
        );
      }

      // Fungsi jika geolokasi berhasil
      function sukses(position) {
        document.querySelector("#hasil").innerHTML =
          "Latitude: " +
          position.coords.latitude +
          " , Longitude: " +
          position.coords.longitude;
      }

      // Fungsi jika geolokasi gagal
      function salah(error) {
        let message = "";
        switch (error.code) {
          case error.PERMISSION_DENIED:
            message = "Pengguna menolak permintaan geolokasi.";
            break;
          case error.POSITION_UNAVAILABLE:
            message = "Informasi lokasi tidak tersedia.";
            break;
          case error.TIMEOUT:
            message = "Permintaan geolokasi melebihi batas waktu.";
            break;
          default:
            message = "Terjadi kesalahan yang tidak diketahui.";
            break;
        }
        document.querySelector("#hasil").innerHTML = message;
      }
    </script>
  </body>
</html>
